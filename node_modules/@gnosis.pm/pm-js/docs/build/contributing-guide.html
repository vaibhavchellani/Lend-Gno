

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Contributing Guide &mdash; pm-js  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="pm-js  documentation" href="index.html"/>
        <link rel="next" title="API Reference" href="api-reference.html"/>
        <link rel="prev" title="LMSR Primer" href="lmsr-primer.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> pm-js
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-overview.html">API Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="events-oracles-and-markets.html">Events, Oracles and Markets</a></li>
<li class="toctree-l1"><a class="reference internal" href="lmsr-primer.html">LMSR Primer</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contributing Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#development">Development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#editing-source">Editing Source</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building">Building</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-dev-server">Running the dev server</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-tests">Running the tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-these-docs">Building these docs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pull-request-etiquette">Pull Request Etiquette</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api-reference.html">API Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pm-js</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Contributing Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/contributing-guide.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="contributing-guide">
<span id="contributing-guide"></span><h1>Contributing Guide<a class="headerlink" href="#contributing-guide" title="Permalink to this headline">¶</a></h1>
<p>We welcome you to submit pull requests to the <a class="reference external" href="https://github.com/gnosis/pm-js">pm-js Github repo</a>, and we will do our best to make sure they are reviewed. If your pull request isn’t adjusted and merged, at least the idea and use case scenario will be taken into consideration. That said, if something is a significant time investment, consider describing the change in an issue first before you take the plunge.</p>
<p>The rest of this article will detail getting started with setting up a local development copy of pm-js.</p>
<div class="section" id="installation">
<span id="installation"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>First use Git to clone the <a class="reference external" href="https://github.com/gnosis/pm-js">repo</a>.</p>
<p>Run <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span></code> to install dependencies.</p>
<p>You will also need a Web3 provider to develop against. If you don’t have one, try <a class="reference external" href="http://truffleframework.com/ganache/">Ganache</a>.</p>
</div>
<div class="section" id="development">
<span id="development"></span><h2>Development<a class="headerlink" href="#development" title="Permalink to this headline">¶</a></h2>
<p>Make sure you have a node connected to a chain with a JSONRPC interface exposed on localhost:8545.</p>
<p>Before you begin, you will want to have the contracts deployed on the chain you plan to use. You can deploy contracts through the RPC interface on localhost:8545 with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">run</span> <span class="n">migrate</span>
</pre></div>
</div>
<p>The build process using Truffle will insert the chain locations in a <code class="docutils literal notranslate"><span class="pre">networks</span></code> key on the contract build artifacts.</p>
<div class="section" id="editing-source">
<span id="editing-source"></span><h3>Editing Source<a class="headerlink" href="#editing-source" title="Permalink to this headline">¶</a></h3>
<p>The ES6 source can be found in the <code class="docutils literal notranslate"><span class="pre">src</span></code> folder. Be sure to edit the JavaScript files found in <code class="docutils literal notranslate"><span class="pre">src</span></code> and <em>not</em> the ones found in <code class="docutils literal notranslate"><span class="pre">dist</span></code>. Those files are built from the ES6 source in <code class="docutils literal notranslate"><span class="pre">src</span></code>.</p>
</div>
<div class="section" id="building">
<span id="building"></span><h3>Building<a class="headerlink" href="#building" title="Permalink to this headline">¶</a></h3>
<p>You can run <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">nodebuild</span></code> to build the library for Node.js use. This will transpile the ESM modules in <code class="docutils literal notranslate"><span class="pre">src</span></code> to corresponding CJS Node.js modules in <code class="docutils literal notranslate"><span class="pre">dist</span></code>.</p>
<p>You can also run <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">webbuild</span></code> to build the library targeting the web. Note that this will compile in all network information present in the build artifacts, including temporary network information generated by Ganache-cli during migrations. You may use <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">netreset</span></code> beforehand to remove unofficial network info and reset to official deployed locations if desired.</p>
</div>
<div class="section" id="running-the-dev-server">
<span id="running-the-dev-server"></span><h3>Running the dev server<a class="headerlink" href="#running-the-dev-server" title="Permalink to this headline">¶</a></h3>
<p>Run <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">dev</span></code> to run the dev server and serve the examples. This will spin up Ganache CLI in the background on <a class="reference external" href="http://localhost:8545">http://localhost:8545</a> and migrate the contracts on that Ganache instance. The JS library source will be continuously recompiled. Examples will be available on <a class="reference external" href="http://localhost:8080">http://localhost:8080</a>. Don’t forget to refresh the page after you change the source.</p>
</div>
<div class="section" id="running-the-tests">
<span id="running-the-tests"></span><h3>Running the tests<a class="headerlink" href="#running-the-tests" title="Permalink to this headline">¶</a></h3>
<p>Run <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">test</span></code> to run test suite. This should run without the need of an RPC provider running on localhost:8545. If you already have such a provider running and wish to run the test suite without automatically spinning up <a class="reference external" href="https://github.com/trufflesuite/ganache-cli">Ganache-cli</a> and causing a chain migration, use <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">test-manual</span></code>.</p>
<p>You may also provide mocha options through the <code class="docutils literal notranslate"><span class="pre">MOCHA_OPTS</span></code> environment variable, e.g. <code class="docutils literal notranslate"><span class="pre">MOCHA_OPTS='-g</span> <span class="pre">estimate'</span> <span class="pre">npm</span> <span class="pre">test</span></code>.</p>
</div>
<div class="section" id="building-these-docs">
<span id="building-these-docs"></span><h3>Building these docs<a class="headerlink" href="#building-these-docs" title="Permalink to this headline">¶</a></h3>
<p>The documentation generator requires Python to be present on your computer. Install the required Python packages into your environment via</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">docs</span><span class="o">/</span><span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>Afterwards, run <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">doc</span></code> to build and open a local build of the documentation in your browser.</p>
<p>You can also spin up a documentation build watcher with <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">docwatch</span></code>. The documentation will be served from <a class="reference external" href="http://localhost:8000">port 8000</a>.</p>
</div>
</div>
<div class="section" id="pull-request-etiquette">
<span id="pull-request-etiquette"></span><h2>Pull Request Etiquette<a class="headerlink" href="#pull-request-etiquette" title="Permalink to this headline">¶</a></h2>
<p>As long as we like your pull request, we promise we won’t nitpick on little things. That said, we would appreciate it if you observe the following:</p>
<ul class="simple">
<li>Make sure the changeset for your PR is comprehensible. Basically, don’t commit <code class="docutils literal notranslate"><span class="pre">dist/gnosis-pm-js</span></code> if you happen to rebuild it. We will do that every release.</li>
<li>Please write tests for new features, and consider adding regression tests for fixes.</li>
<li>Make each commit/PR about one thing if you can.</li>
</ul>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api-reference.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="lmsr-primer.html" class="btn btn-neutral" title="LMSR Primer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Gnosis.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>